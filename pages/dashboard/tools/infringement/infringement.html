<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Autua√ß√µes</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="infringement.css">
</head>
<body>

  <div class="top-bar">
    <button id="backBtn" class="btn"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
    <h1 class="top-bar-title">Autos de Infra√ß√£o</h1>
    </div>
  
  <div class="filters">
    <input type="text" id="buscaInput" placeholder="üîé Buscar por nome ou CPF..." />
    <select id="filtroNatureza">
      <option value="">Todas as Naturezas</option>
      <option value="Fogo em terreno">Fogo em terreno</option>
      <option value="Descarte irregular de res√≠duos">Descarte irregular de res√≠duos</option>
      <option value="Perturba√ß√£o de sossego">Perturba√ß√£o de sossego</option>
      <option value="Falta de alvar√° de funcionamento">Falta de alvar√° de funcionamento</option>
    </select>
    <button id="addInfringementBtn" class="btn-green">Adicionar Autua√ß√£o</button>
  </div>

  <main class="main-content">
    <table id="infringementTable">
      <thead>
        <tr>
          <th>Data</th>
          <th>Agente</th>
          <th>Autuado</th>
          <th>CPF</th>
          <th>Endere√ßo</th>
          <th>Natureza</th>
          <th>Prazo</th>
          <th>Atendente</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody id="infringementList"></tbody>
    </table>
  </main>

  <div id="infringementModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h3 id="modalTitle">Nova Autua√ß√£o</h3>
      <form id="infringementForm">
        <div class="form-group">
          <label>Data da Autua√ß√£o</label>
          <input type="date" id="dataAutuacao" required>
        </div>
        <div class="form-group">
          <label>Agente Fiscalizador</label>
          <input type="text" id="agente" required>
        </div>
        <div class="form-group">
          <label>Nome do Autuado</label>
          <input type="text" id="autuado" required>
        </div>
        <div class="form-group">
          <label>CPF do Autuado</label>
          <input type="text" id="cpf" placeholder="000.000.000-00" required>
        </div>
        <div class="form-group">
          <label>Endere√ßo do Autuado</label>
          <input type="text" id="endereco" required>
        </div>
        <div class="form-group">
          <label>Natureza da Autua√ß√£o</label>
          <select id="natureza" required>
            <option value="Fogo em terreno">Fogo em terreno</option>
            <option value="Descarte irregular de res√≠duos">Descarte irregular de res√≠duos</option>
            <option value="Perturba√ß√£o de sossego">Perturba√ß√£o de sossego</option>
            <option value="Falta de alvar√° de funcionamento">Falta de alvar√° de funcionamento</option>
          </select>
        </div>
        <div class="form-group">
          <label>Prazo para Regulariza√ß√£o (dias)</label>
          <input type="number" id="prazoDias" required>
        </div>
        <div class="form-group">
          <label>Atendente Respons√°vel</label>
          <input type="text" id="atendente" required>
        </div>
         <div class="form-group">
          <label>Link do Google Maps (opcional)</label>
          <input type="url" id="mapsLink" placeholder="https://maps.google.com/...">
        </div>
        <button type="submit" id="saveBtn" class="btn success">Salvar Autua√ß√£o</button>
      </form>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="../../../../firebase-init.js"></script>
  <script src="../../../../auth-guard.js"></script>
  <script src="infringement.js"></script>

</body>
</html>