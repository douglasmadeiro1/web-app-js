<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Notifica√ß√£o</title>
  <link rel="stylesheet" href="notification.css">
</head>
<body>
  <h2>Lista de Notifica√ß√µes</h2>

  <div id="filtrosNotificacoes" style="margin-bottom: 15px;">
  <!-- Busca -->
  <input type="text" id="buscaInput" placeholder="üîé Buscar por nome ou CPF..." />

  <!-- Filtro de Status -->
  <select id="filtroStatus">
    <option value="">Todos os Status</option>
    <option value="pendente">Pendente</option>
    <option value="vencida">Vencida</option>
    <option value="cumprida">Cumprida</option>
  </select>

  <!-- Filtro de Natureza -->
  <select id="filtroNatureza">
    <option value="">Todas as Naturezas</option>
    <option value="ambiental">Ambiental</option>
    <option value="tr√¢nsito">Tr√¢nsito</option>
    <option value="outros">Outros</option>
  </select>
</div>

<!-- Contadores -->
<div id="contadores" style="margin: 10px 0; font-weight: bold;">
  üü° Pendentes: <span id="contadorPendentes">0</span> |
  üî¥ Vencidas: <span id="contadorVencidas">0</span> |
  üü¢ Cumpridas: <span id="contadorCumpridas">0</span>
</div>
<button id="abrirModal">‚ûï Nova Notifica√ß√£o</button>

<table border="1" id="tabelaNotificacoes">
  <thead>
    <tr>
      <th>Data</th>
      <th>Agente</th>
      <th>Notificado</th>
      <th>CPF</th>
      <th>Endere√ßo</th>
      <th>Natureza</th>
      <th>Prazo</th>
      <th>Atendente</th>
      <th>Status</th>
      <th>A√ß√µes</th>
    </tr>
  </thead>
  <tbody id="listaNotificacoes"></tbody>
</table>

<p id="msg"></p>

<!-- üîΩ Modal do formul√°rio -->
<div id="modalForm" class="modal">
  <div class="modal-content">
    <span class="fechar">&times;</span>
    <h2 id="tituloModal">Nova Notifica√ß√£o</h2>
    <form id="formNotificacao">
      <label>Data da Notifica√ß√£o:</label>
      <input type="date" id="dataNotificacao" required><br><br>

      <label>Agente Fiscalizador:</label>
      <input type="text" id="agente"><br><br>

      <label>Nome do Notificado:</label>
      <input type="text" id="notificado" required><br><br>

      <label>CPF do Notificado:</label>
      <input type="text" id="cpf" placeholder="000.000.000-00"><br><br>

      <label>Endere√ßo do Notificado:</label>
      <input type="text" id="endereco"><br><br>

      <label>Natureza da Notifica√ß√£o:</label>
      <select id="natureza">
        <option value=""></option>
        <option value="Fogo em terreno">Fogo em terreno</option>
        <option value="Descarte irregular de res√≠duos">Descarte irregular de res√≠duos</option>
        <option value="Perturba√ß√£o de sossego">Perturba√ß√£o de sossego</option>
        <option value="Falta de alvar√° de funcionamento">Falta de alvar√° de funcionamento</option>
      </select><br><br>

      <label>Prazo para Regulariza√ß√£o (dias):</label>
      <input type="number" id="prazoDias" required><br><br>

      <label>Atendente Respons√°vel:</label>
      <input type="text" id="atendente"><br><br>

      <label>Link do Google Maps (opcional):</label>
      <input type="url" id="mapsLink" placeholder="https://maps.google.com/..."><br><br>

      <button type="submit">Salvar Notifica√ß√£o</button>
    </form>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="../../firebase-init.js"></script>
<script src="../../auth-guard.js"></script>
<script src="notification.js"></script>

</body>
</html>
